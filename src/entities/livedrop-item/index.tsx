import styles from './styles.module.scss'
import {Icon} from "../../shared/ui/icon";
import clsx from "clsx";
import {NavLink} from "react-router-dom";
import {PATHS} from "../../shared/lib/react-router";
import {DataLiveDropType} from "../../shared/types";
import Moment from "react-moment";
import 'moment/locale/ru';
import {GetRarityName} from "../../shared/utils";
export const LiveDropItem = ({data} : { data: DataLiveDropType }) => {
    return (
        <NavLink to={PATHS.user.root(data.user.id)} className={clsx(styles.item, styles[GetRarityName(data.item.rarity)!])}>
            <svg width="64" height="68" viewBox="0 0 64 68" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M50.7405 29.0075L54.2969 32.1876H41.1159L39.5535 30.6684L39.5481 30.6738L38.2164 29.3789L32.0067 35.4168L25.7962 29.3785L24.4623 30.6755L24.4548 30.6684L22.8925 32.1876H9.7033L13.2597 29.0075H50.7405Z" fill="black" fillOpacity="0.15"/>
                <path d="M36.373 15.1389C36.6047 14.8104 36.8245 14.4074 36.9946 13.9236C37.1009 13.6206 37.2587 13.2234 37.4424 12.7653C35.8512 13.6919 33.9895 14.2244 32 14.2244C30.0105 14.2244 28.1486 13.6919 26.5576 12.7653C26.7413 13.2234 26.8991 13.6206 27.0054 13.9236C27.1753 14.4074 27.3951 14.8104 27.6268 15.1389C28.9299 15.8167 30.4188 16.2012 32 16.2012C33.5812 16.2012 35.0701 15.8167 36.373 15.1389Z" fill="black" fillOpacity="0.15"/>
                <path d="M34.8357 17.921C34.9949 17.674 35.134 17.3668 35.1926 17.015C34.185 17.3239 33.1123 17.4904 31.9998 17.4904C30.8872 17.4904 29.8148 17.3239 28.807 17.015C28.8658 17.3668 29.0048 17.674 29.1641 17.921C30.0579 18.1996 31.0108 18.35 31.9998 18.35C32.9888 18.35 33.9417 18.1996 34.8357 17.921Z" fill="black" fillOpacity="0.15"/>
                <path fillRule="evenodd" clipRule="evenodd" d="M25.6864 10.5254C27.3429 12.0208 29.5616 12.9352 32.0004 12.9352C34.4391 12.9352 36.6581 12.0208 38.3145 10.5254C38.7718 9.2695 39.1769 7.94589 39.249 6.91881C39.4111 4.61253 38.1882 0 32.0004 0C25.8125 1.41103e-06 24.5897 4.61253 24.7517 6.91881C24.8239 7.94589 25.229 9.2695 25.6864 10.5254ZM28.5529 5.88744C28.5529 7.64374 30.0965 9.06754 32.0004 9.06754C33.9045 9.06754 35.4479 7.64374 35.4479 5.88744C35.4479 4.13114 33.9045 2.70737 32.0004 2.70737C30.0965 2.70737 28.5529 4.13114 28.5529 5.88744Z" fill="black" fillOpacity="0.15"/>
                <path d="M20.716 27.7182H43.2847L39.7761 24.0225H33.6352L34.2234 19.4121C33.5062 19.561 32.7625 19.6391 31.9998 19.6391C31.2371 19.6391 30.4933 19.561 29.7763 19.4121L30.3645 24.0225H24.2248L20.716 27.7182Z" fill="black" fillOpacity="0.15"/>
                <path fillRule="evenodd" clipRule="evenodd" d="M21.5684 33.4768L11.6678 43.1027H4.91232C4.99768 43.5363 5.09377 43.9663 5.20033 44.3922H10.3398L6.45766 48.1667C7.0461 49.5672 7.75283 50.9086 8.56578 52.1789L25.7939 35.4281L28.9193 38.4669L28.9176 38.4686L31.985 41.451L32 41.4675L32.015 41.451L35.0824 38.4686L35.0807 38.4669L38.2061 35.4281L55.4343 52.1789C56.2484 50.9067 56.956 49.5634 57.545 48.1607L53.669 44.3922H58.7998C58.9063 43.9663 59.0024 43.5363 59.0878 43.1027H52.3421L42.4416 33.4768H58.6603L59.266 33.9711C57.6909 23.8899 50.3428 15.6525 40.6026 12.5463C41.3244 11.318 41.7759 9.92019 41.8782 8.42945C54.7171 12.4767 64 24.2003 64 38.0318C64 45.973 60.9401 53.2193 55.9044 58.7169L52.7729 55.6723L52.7746 55.6703L38.2078 41.5075L35.1404 44.4898L52.8078 61.6702C49.3192 64.576 45.1798 66.7643 40.6316 68L32.0142 59.6215L32 59.6048L31.9858 59.6215L23.3682 68C18.8197 66.7641 14.68 64.5754 11.1913 61.6694L28.8598 44.4898L25.7924 41.5075L8.09485 58.716C3.05948 53.2183 6.99692e-07 45.9724 0 38.0318C-1.21879e-06 24.2003 9.28293 12.4767 22.1218 8.42945C22.2243 9.92021 22.6756 11.318 23.3972 12.5463C13.6568 15.6526 6.30838 23.8908 4.73384 33.9726L5.34146 33.4768H21.5684ZM17.9903 61.1353C19.3149 61.8962 20.7105 62.5527 22.1652 63.0926L31.9658 53.5637L32 53.5299L32.0344 53.5637L41.8348 63.0926C43.2895 62.5527 44.6853 61.8962 46.0097 61.1353L32.015 47.5285L32 47.5141L31.985 47.5285L17.9903 61.1353Z" fill="black" fillOpacity="0.15"/>
            </svg>
            <div className={styles.itemImages}>
                <img src={data.item.image} alt="item"/>
                <img src={data.case.image} alt="item"/>
            </div>
            <div className={styles.itemInfo}>
                <span className={styles.title}>{data.item.title}</span>
                <span className={styles.price}>
                    <Icon icon="coins" size={10}/>
                    {data.item.price}
                </span>
                <span className={styles.date}>
                    <Moment fromNow interval={1000}>{data.date}</Moment>
                </span>
            </div>
            <div className={styles.itemInfo}>
                <span className={styles.title}>Название предмета</span>
                <span className={styles.case}>
                    {data.case.title}
                </span>
                <span className={styles.date}>
                    {data.user.name}
                </span>
            </div>
        </NavLink>
    )
}